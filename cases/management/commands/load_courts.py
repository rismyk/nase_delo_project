from django.core.management.base import BaseCommand
from cases.models import Court

class Command(BaseCommand):
    help = '–ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—É–¥–æ–≤'

    def handle(self, *args, **options):
        courts_data = [
            # –í–µ—Ä—Ö–æ–≤–Ω—ã–π —Å—É–¥ –†–§
            {
                'name': '–í–µ—Ä—Ö–æ–≤–Ω—ã–π –°—É–¥ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏',
                'court_type': 'supreme',
                'region': '–ú–æ—Å–∫–≤–∞',
                'address': '—É–ª. –ü–æ–≤–∞—Ä—Å–∫–∞—è, –¥. 15, –ú–æ—Å–∫–≤–∞, 121260'
            },
            
            # –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π —Å—É–¥ –†–§
            {
                'name': '–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π –°—É–¥ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏',
                'court_type': 'constitutional',
                'region': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                'address': '–°–µ–Ω–∞—Ç—Å–∫–∞—è –ø–ª., –¥. 1, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, 190000'
            },
            
            # –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–µ —Å—É–¥—ã
            {
                'name': '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã',
                'court_type': 'arbitration',
                'region': '–ú–æ—Å–∫–≤–∞',
                'address': '—É–ª. –°–∞–ª—Ç—ã–∫–æ–≤—Å–∫–∞—è, –¥. 12, –ú–æ—Å–∫–≤–∞, 105066'
            },
            {
                'name': '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏',
                'court_type': 'arbitration',
                'region': '–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
                'address': '—É–ª. –ü–∞–ª–∏—Ö–∞, –¥. 13–ê, —Å—Ç—Ä. 2, –ú–æ—Å–∫–≤–∞, 123022'
            },
            {
                'name': '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞ –∏ –õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏',
                'court_type': 'arbitration',
                'region': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                'address': '—É–ª. –°–º–æ–ª—å–Ω–æ–≥–æ, –¥. 3, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, 191060'
            },
            {
                'name': '–ü–µ—Ä–≤—ã–π –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π –∞–ø–µ–ª–ª—è—Ü–∏–æ–Ω–Ω—ã–π —Å—É–¥',
                'court_type': 'arbitration',
                'region': '–ú–æ—Å–∫–≤–∞',
                'address': '—É–ª. –¢–µ–∞—Ç—Ä–∞–ª—å–Ω–∞—è, –¥. 5, –ú–æ—Å–∫–≤–∞, 109012'
            },
            {
                'name': '–í—Ç–æ—Ä–æ–π –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π –∞–ø–µ–ª–ª—è—Ü–∏–æ–Ω–Ω—ã–π —Å—É–¥',
                'court_type': 'arbitration',
                'region': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                'address': '—É–ª. –°–º–æ–ª—å–Ω–æ–≥–æ, –¥. 3, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, 191060'
            },
            
            # –°—É–¥—ã –æ–±—â–µ–π —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏ –ú–æ—Å–∫–≤—ã
            {
                'name': '–¢–≤–µ—Ä—Å–∫–æ–π —Ä–∞–π–æ–Ω–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã',
                'court_type': 'general',
                'region': '–ú–æ—Å–∫–≤–∞',
                'address': '—É–ª. –û–≥–æ—Ä–æ–¥–Ω–∞—è —Å–ª–æ–±–æ–¥–∞, –¥. 5, –ú–æ—Å–∫–≤–∞, 101000'
            },
            {
                'name': '–ë–∞—Å–º–∞–Ω–Ω—ã–π —Ä–∞–π–æ–Ω–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã',
                'court_type': 'general',
                'region': '–ú–æ—Å–∫–≤–∞',
                'address': '—É–ª. –ö–∞–ª–∞–Ω—á–µ–≤—Å–∫–∞—è, –¥. 26, —Å—Ç—Ä. 1, –ú–æ—Å–∫–≤–∞, 107078'
            },
            {
                'name': '–•–∞–º–æ–≤–Ω–∏—á–µ—Å–∫–∏–π —Ä–∞–π–æ–Ω–Ω—ã–π —Å—É–¥ –≥–æ—Ä–æ–¥–∞ –ú–æ—Å–∫–≤—ã',
                'court_type': 'general',
                'region': '–ú–æ—Å–∫–≤–∞',
                'address': '—É–ª. –õ—å–≤–∞ –¢–æ–ª—Å—Ç–æ–≥–æ, –¥. 5, —Å—Ç—Ä. 3, –ú–æ—Å–∫–≤–∞, 119021'
            },
            {
                'name': '–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—É–¥',
                'court_type': 'general',
                'region': '–ú–æ—Å–∫–≤–∞',
                'address': '—É–ª. –ë–æ–≥–¥–∞–Ω–∫–∞, –¥. 2, –ú–æ—Å–∫–≤–∞, 109012'
            },
            
            # –°—É–¥—ã –æ–±—â–µ–π —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞
            {
                'name': '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω–Ω—ã–π —Å—É–¥ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞',
                'court_type': 'general',
                'region': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                'address': '—É–ª. –°–∞–¥–æ–≤–∞—è, –¥. 32-34, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, 191025'
            },
            {
                'name': '–í–∞—Å–∏–ª–µ–æ—Å—Ç—Ä–æ–≤—Å–∫–∏–π —Ä–∞–π–æ–Ω–Ω—ã–π —Å—É–¥ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞',
                'court_type': 'general',
                'region': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                'address': '—É–ª. –ñ–µ–ª–µ–∑–Ω–æ–≤–æ–¥—Å–∫–∞—è, –¥. 64, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, 199106'
            },
            {
                'name': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—É–¥',
                'court_type': 'general',
                'region': '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                'address': '—É–ª. –í–æ—Å–∫—Ä–µ—Å–µ–Ω—Å–∫–∞—è –Ω–∞–±., –¥. 16–ê, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, 191014'
            },
            
            # –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—É–¥—ã
            {
                'name': '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏',
                'court_type': 'arbitration',
                'region': '–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å',
                'address': '—É–ª. –®–∞—Ä—Ç–∞—à—Å–∫–∞—è, –¥. 4, –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥, 620142'
            },
            {
                'name': '–ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–æ–≥–æ –∫—Ä–∞—è',
                'court_type': 'arbitration',
                'region': '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π',
                'address': '—É–ª. –†–∞—à–ø–∏–ª–µ–≤—Å–∫–∞—è, –¥. 179, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, 350020'
            },
        ]
        
        created_count = 0
        updated_count = 0
        
        for court_data in courts_data:
            court, created = Court.objects.get_or_create(
                name=court_data['name'],
                defaults=court_data
            )
            
            if created:
                created_count += 1
                self.stdout.write(
                    self.style.SUCCESS(f'‚úÖ –°–æ–∑–¥–∞–Ω —Å—É–¥: {court.name}')
                )
            else:
                # –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å—É–¥
                for key, value in court_data.items():
                    setattr(court, key, value)
                court.save()
                updated_count += 1
                self.stdout.write(
                    self.style.WARNING(f'üîÑ –û–±–Ω–æ–≤–ª–µ–Ω —Å—É–¥: {court.name}')
                )
        
        self.stdout.write(
            self.style.SUCCESS(
                f'\nüìã –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞:\n'
                f'‚Ä¢ –°–æ–∑–¥–∞–Ω–æ: {created_count} —Å—É–¥–æ–≤\n'
                f'‚Ä¢ –û–±–Ω–æ–≤–ª–µ–Ω–æ: {updated_count} —Å—É–¥–æ–≤\n'
                f'‚Ä¢ –í—Å–µ–≥–æ –≤ –±–∞–∑–µ: {Court.objects.count()} —Å—É–¥–æ–≤'
            )
        )